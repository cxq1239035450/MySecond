<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.38">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/imgs/favicon.png"><title>BOM元素 | 前端学习笔记</title><meta name="description" content="个人笔记汇总">
    <link rel="modulepreload" href="/notes/assets/app.c1bcb30e.js"><link rel="modulepreload" href="/notes/assets/4.BOM元素.html.82131312.js"><link rel="modulepreload" href="/notes/assets/4.BOM元素.html.607a1925.js">
    <link rel="stylesheet" href="/notes/assets/style.7e6ace9e.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/notes/" class=""><img class="logo" src="/notes/imgs/favicon.png" alt="前端学习笔记"><span class="site-name can-hide">前端学习笔记</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/notes/htmlNote/" class="" aria-label="Html"><!--[--><!--]--> Html <!--[--><!--]--></a></div><div class="navbar-item"><a href="/notes/cssNote/" class="" aria-label="Css"><!--[--><!--]--> Css <!--[--><!--]--></a></div><div class="navbar-item"><a href="/notes/jsNote/" class="router-link-active" aria-label="JS"><!--[--><!--]--> JS <!--[--><!--]--></a></div><div class="navbar-item"><a href="/notes/requestNote/" class="" aria-label="request"><!--[--><!--]--> request <!--[--><!--]--></a></div><div class="navbar-item"><a href="/notes/vueNote/" class="" aria-label="Vue"><!--[--><!--]--> Vue <!--[--><!--]--></a></div><div class="navbar-item"><a href="/notes/reactNote/" class="" aria-label="React"><!--[--><!--]--> React <!--[--><!--]--></a></div><div class="navbar-item"><a href="/notes/other/" class="" aria-label="Other"><!--[--><!--]--> Other <!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="Search" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/notes/htmlNote/" class="" aria-label="Html"><!--[--><!--]--> Html <!--[--><!--]--></a></div><div class="navbar-item"><a href="/notes/cssNote/" class="" aria-label="Css"><!--[--><!--]--> Css <!--[--><!--]--></a></div><div class="navbar-item"><a href="/notes/jsNote/" class="router-link-active" aria-label="JS"><!--[--><!--]--> JS <!--[--><!--]--></a></div><div class="navbar-item"><a href="/notes/requestNote/" class="" aria-label="request"><!--[--><!--]--> request <!--[--><!--]--></a></div><div class="navbar-item"><a href="/notes/vueNote/" class="" aria-label="Vue"><!--[--><!--]--> Vue <!--[--><!--]--></a></div><div class="navbar-item"><a href="/notes/reactNote/" class="" aria-label="React"><!--[--><!--]--> React <!--[--><!--]--></a></div><div class="navbar-item"><a href="/notes/other/" class="" aria-label="Other"><!--[--><!--]--> Other <!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading active">JS <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/notes/jsNote/" class="router-link-active sidebar-item" aria-label="JS介绍"><!--[--><!--]--> JS介绍 <!--[--><!--]--></a><!----></li><li><a href="/notes/jsNote/1.JS%E5%9F%BA%E7%A1%80.html" class="sidebar-item" aria-label="JS基础"><!--[--><!--]--> JS基础 <!--[--><!--]--></a><!----></li><li><a href="/notes/jsNote/2.DOM%E5%85%83%E7%B4%A0.html" class="sidebar-item" aria-label="DOM元素"><!--[--><!--]--> DOM元素 <!--[--><!--]--></a><!----></li><li><a href="/notes/jsNote/3.%E9%AB%98%E7%BA%A7%E4%BA%8B%E4%BB%B6.html" class="sidebar-item" aria-label="高级事件"><!--[--><!--]--> 高级事件 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/notes/jsNote/4.BOM%E5%85%83%E7%B4%A0.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="BOM元素"><!--[--><!--]--> BOM元素 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/notes/jsNote/4.BOM%E5%85%83%E7%B4%A0.html#一-bom概述" class="router-link-active router-link-exact-active sidebar-item" aria-label="一.BOM概述"><!--[--><!--]--> 一.BOM概述 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/notes/jsNote/4.BOM%E5%85%83%E7%B4%A0.html#_1-1bom构成" class="router-link-active router-link-exact-active sidebar-item" aria-label="1.1BOM构成"><!--[--><!--]--> 1.1BOM构成 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/notes/jsNote/4.BOM%E5%85%83%E7%B4%A0.html#二-window-对象的常见事件" class="router-link-active router-link-exact-active sidebar-item" aria-label="二.window 对象的常见事件"><!--[--><!--]--> 二.window 对象的常见事件 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/notes/jsNote/4.BOM%E5%85%83%E7%B4%A0.html#_2-1-窗口加载事件" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.1 窗口加载事件"><!--[--><!--]--> 2.1 窗口加载事件 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/notes/jsNote/4.BOM%E5%85%83%E7%B4%A0.html#_2-2-调整窗口大小事件" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.2 调整窗口大小事件"><!--[--><!--]--> 2.2 调整窗口大小事件 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/notes/jsNote/4.BOM%E5%85%83%E7%B4%A0.html#_2-3-定时器" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.3 定时器"><!--[--><!--]--> 2.3 定时器 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/notes/jsNote/4.BOM%E5%85%83%E7%B4%A0.html#三-js执行机制" class="router-link-active router-link-exact-active sidebar-item" aria-label="三.JS执行机制"><!--[--><!--]--> 三.JS执行机制 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/notes/jsNote/4.BOM%E5%85%83%E7%B4%A0.html#_3-1-js是单线程" class="router-link-active router-link-exact-active sidebar-item" aria-label="3.1 JS是单线程"><!--[--><!--]--> 3.1 JS是单线程 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/notes/jsNote/4.BOM%E5%85%83%E7%B4%A0.html#_3-2-同步和异步" class="router-link-active router-link-exact-active sidebar-item" aria-label="3.2 同步和异步"><!--[--><!--]--> 3.2 同步和异步 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/notes/jsNote/4.BOM%E5%85%83%E7%B4%A0.html#四-location对象" class="router-link-active router-link-exact-active sidebar-item" aria-label="四.location对象"><!--[--><!--]--> 四.location对象 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/notes/jsNote/4.BOM%E5%85%83%E7%B4%A0.html#_4-1-location对象属性" class="router-link-active router-link-exact-active sidebar-item" aria-label="4.1 location对象属性"><!--[--><!--]--> 4.1 location对象属性 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/notes/jsNote/4.BOM%E5%85%83%E7%B4%A0.html#_4-2-location对象方法" class="router-link-active router-link-exact-active sidebar-item" aria-label="4.2 location对象方法"><!--[--><!--]--> 4.2 location对象方法 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/notes/jsNote/4.BOM%E5%85%83%E7%B4%A0.html#_4-3-获取url参数" class="router-link-active router-link-exact-active sidebar-item" aria-label="4.3 获取URL参数"><!--[--><!--]--> 4.3 获取URL参数 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/notes/jsNote/4.BOM%E5%85%83%E7%B4%A0.html#五-navigator对象" class="router-link-active router-link-exact-active sidebar-item" aria-label="五.navigator对象"><!--[--><!--]--> 五.navigator对象 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/notes/jsNote/4.BOM%E5%85%83%E7%B4%A0.html#六-history对象" class="router-link-active router-link-exact-active sidebar-item" aria-label="六.history对象"><!--[--><!--]--> 六.history对象 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/notes/jsNote/5.JS%E8%BF%9B%E9%98%B6-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1.html" class="sidebar-item" aria-label="JS高级"><!--[--><!--]--> JS高级 <!--[--><!--]--></a><!----></li><li><a href="/notes/jsNote/6.%E6%89%A9%E5%B1%95%E7%A7%BB%E5%8A%A8PC.html" class="sidebar-item" aria-label="移动端JS"><!--[--><!--]--> 移动端JS <!--[--><!--]--></a><!----></li><li><a href="/notes/jsNote/ES6-ES11.html" class="sidebar-item" aria-label="ES6 - ES11"><!--[--><!--]--> ES6 - ES11 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="bom元素" tabindex="-1"><a class="header-anchor" href="#bom元素" aria-hidden="true">#</a> BOM元素</h1><h2 id="一-bom概述" tabindex="-1"><a class="header-anchor" href="#一-bom概述" aria-hidden="true">#</a> 一.BOM概述</h2><ul><li><p>BOM = Browser Object Model 👉浏览器对象模型</p></li><li><p>它提供了独立于内容而与浏览器窗口进行交互的对象，其核心对象是 window</p></li><li><p>BOM 由一系列相关的对象构成，并且每个对象都提供了很多方法与属性</p></li><li><p>BOM 缺乏标准，JavaScript 语法的标准化组织是 ECMA, DOM 的标准化组织是 W3C, BOM最初是Netscape 浏览器标准的一部分</p></li></ul><table><thead><tr><th style="text-align:center;"><strong>DOM</strong></th><th style="text-align:center;"><strong>BOM</strong></th></tr></thead><tbody><tr><td style="text-align:center;">文档对象模型</td><td style="text-align:center;">浏览器对象模型</td></tr><tr><td style="text-align:center;">DOM 就是把 文档 当作一个对象来看待</td><td style="text-align:center;">把 浏览器当作一个对象来看待</td></tr><tr><td style="text-align:center;">DOM 的顶级对象是 document</td><td style="text-align:center;">BOM 的顶级对象是 window</td></tr><tr><td style="text-align:center;">DOM 主要学习的是操作页面元素</td><td style="text-align:center;">BOM 学习的是浏览器窗口交互的一些对象</td></tr><tr><td style="text-align:center;">DOM 是 W3C 标准规范</td><td style="text-align:center;">BOM 是浏览器厂商在各自浏览器上定义的，兼容性较差</td></tr></tbody></table><h3 id="_1-1bom构成" tabindex="-1"><a class="header-anchor" href="#_1-1bom构成" aria-hidden="true">#</a> 1.1BOM构成</h3><p><img src="/notes/image/BOM构成.png" alt="BOM构成"></p><ul><li><p>BOM 比 DOM 更大。它包含 DOM。</p></li><li><p>window 对象是浏览器的顶级对象，它具有双重角色</p></li><li><p>它是 JS 访问浏览器窗口的一个接口</p></li><li><p>它是一个全局对象。定义在全局作用域中的变量、函数都会变成 window 对象的属性和方法</p></li><li><p>在调用的时候可以省略 window，前面学习的对话框都属于 window 对象方法，如 <code>alert()、prompt()</code>等。</p></li></ul><p><strong>注意</strong>：window下的一个特殊属性 window.name</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 定义在全局作用域中的变量会变成window对象的属性</span>
<span class="token keyword">var</span> num <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 10</span>

<span class="token comment">// 定义在全局作用域中的函数会变成window对象的方法</span>
<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
window<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 11</span>

<span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>  <span class="token comment">//不要用这个name变量,window下有一个特殊属性window.name</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="二-window-对象的常见事件" tabindex="-1"><a class="header-anchor" href="#二-window-对象的常见事件" aria-hidden="true">#</a> 二.window 对象的常见事件</h2><h3 id="_2-1-窗口加载事件" tabindex="-1"><a class="header-anchor" href="#_2-1-窗口加载事件" aria-hidden="true">#</a> 2.1 窗口加载事件</h3><h4 id="_1-window-onload" tabindex="-1"><a class="header-anchor" href="#_1-window-onload" aria-hidden="true">#</a> (1) window.onload()</h4><p><code>window.onload</code>是窗口（页面）加载事件，当文档内容完全加载完成会触发该事件（包括图像，脚本文件，CSS文件等），就调用的处理函数。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>window<span class="token punctuation">.</span><span class="token function">onload</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    
<span class="token punctuation">}</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;load&quot;</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>注意：</p><ul><li><p>有了<code>window.onload</code>就可以把JS代码写到页面元素的上方</p></li><li><p>因为<code>onload</code>是等页面内容全部加载完毕，再去执行处理函数</p></li><li><p><code>window.onload</code> 传统注册事件方式，只能写一次</p></li><li><p>如果有多个，会以最后一个<code>window.onload</code>为准</p></li><li><p><strong>如果使用addEventListener 则没有限制</strong></p></li></ul><h4 id="_2-window-domcontentloaded" tabindex="-1"><a class="header-anchor" href="#_2-window-domcontentloaded" aria-hidden="true">#</a> (2) window.DOMContentLoaded()</h4><ul><li>DOMCountentLoaded事件触发时，仅当DOM加载完成，不包括样式表，图片，flash等等</li><li>如果页面的图片很多的话, 从用户访问到onload触发可能需要较长的时间</li><li>交互效果就不能实现，必然影响用户的体验，此时用 <code>DOMContentLoaded</code>事件比较合适。</li></ul><h4 id="_3-区别" tabindex="-1"><a class="header-anchor" href="#_3-区别" aria-hidden="true">#</a> (3) 区别</h4><ul><li><code>load</code>等页面内容全部加载完毕，包括页面dom元素，图片，flash，css等</li><li><code>DOMContentLoaded</code> 是DOM加载完毕，不包含图片 flash css 等就可以执行，加载速度比load更快一些</li></ul><h3 id="_2-2-调整窗口大小事件" tabindex="-1"><a class="header-anchor" href="#_2-2-调整窗口大小事件" aria-hidden="true">#</a> 2.2 调整窗口大小事件</h3><p><code>window.onresize</code> 是调整窗口大小加载事件，当触发时就调用的处理函数</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>window<span class="token punctuation">.</span><span class="token function-variable function">onresize</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token comment">// 或者</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;resize&#39;</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>只要窗口大小发生像素变化，就会触发这个事件</li><li>我们经常利用这个事件完成响应式布局。<code>window.innerWidth</code> 当前屏幕的宽度</li></ul><h3 id="_2-3-定时器" tabindex="-1"><a class="header-anchor" href="#_2-3-定时器" aria-hidden="true">#</a> 2.3 定时器</h3><p>window 对象给我们提供了两个定时器</p><ul><li><code>setTimeout()</code></li><li><code>setInterval()</code></li></ul><h4 id="_1-settimeout" tabindex="-1"><a class="header-anchor" href="#_1-settimeout" aria-hidden="true">#</a> (1) setTimeout()</h4><p><code>setTimeout()</code>方法用于设置一个定时器，该定时器在定时器到期后执行调用函数。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>window<span class="token punctuation">.</span><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>毫秒数<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li><p><code>window</code>可以省略</p></li><li><p>这个调用函数</p><ul><li>可以直接写函数</li><li>或者写函数名</li><li>或者采取字符串 <strong>‘函数名()’</strong> （不推荐）</li></ul></li><li><p>延迟的毫秒数省略默认是0，如果写，必须是毫秒</p></li><li><p>因为定时器可能有很多，所以我们经常给定时器赋值一个标识符</p></li><li><p><code>setTimeout()</code> 这个调用函数我们也称为<strong>回调函数</strong> callback</p></li><li><p>普通函数是按照代码顺序直接调用，而这个函数，需要等待事件，事件到了才会去调用这个函数，因此称为回调函数。</p></li></ul><h4 id="_2-setinterval" tabindex="-1"><a class="header-anchor" href="#_2-setinterval" aria-hidden="true">#</a> (2) setInterval()</h4><ul><li><code>setInterval()</code>方法重复调用一个函数，每隔这个时间，就去调用一次回调函数</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>window<span class="token punctuation">.</span><span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>毫秒数<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li><p><code>window</code>可以省略</p></li><li><p>这个回调函数:</p><ul><li>可以直接写函数</li><li>或者写函数名</li><li>或者采取字符 ‘函数名()’</li></ul></li><li><p>第一次执行也是间隔毫秒数之后执行，之后每隔毫秒数就执行一次</p></li></ul><h4 id="_3-cleartimeout-停止定时器" tabindex="-1"><a class="header-anchor" href="#_3-cleartimeout-停止定时器" aria-hidden="true">#</a> (3) clearTimeout()停止定时器</h4><ul><li><code>clearTimeout()</code>方法取消了先前通过调用 <code>setTimeout()</code>建立的定时器</li><li><strong>注意</strong>： <ul><li><code>window</code>可以省略</li><li>里面的参数就是定时器的标识符</li></ul></li></ul><h4 id="_4-clearinterval-停止定时器" tabindex="-1"><a class="header-anchor" href="#_4-clearinterval-停止定时器" aria-hidden="true">#</a> (4) clearInterval()停止定时器</h4><ul><li><code>clearInterval ( )</code> 方法取消了先前通过调用 <code>setInterval()</code> 建立的定时器</li></ul><h4 id="_5-this指向问题" tabindex="-1"><a class="header-anchor" href="#_5-this指向问题" aria-hidden="true">#</a> (5) this指向问题</h4><ul><li><code>this</code>的指向在函数定义的时候是确定不了的，只有函数执行的时候才能确定<code>this</code>到底指向谁</li></ul><p>现阶段，我们先了解一下几个this指向</p><ul><li><p>全局作用域或者普通函数中<code>this</code>指向全局对象<code>window</code>(注意定时器里面的this指向window)</p></li><li><p>方法调用中谁调用<code>this</code>指向谁</p></li><li><p>构造函数中<code>this</code>指向构造函数实例</p></li></ul><h2 id="三-js执行机制" tabindex="-1"><a class="header-anchor" href="#三-js执行机制" aria-hidden="true">#</a> 三.JS执行机制</h2><h3 id="_3-1-js是单线程" tabindex="-1"><a class="header-anchor" href="#_3-1-js是单线程" aria-hidden="true">#</a> 3.1 JS是单线程</h3><p>(1) JavaScript 语言的一大特点就是单线程，也就是说，同一个时间只能做一件事。这是因为 Javascript 这门脚本语言诞生的使命所致——JavaScript 是为处理页面中用户的交互，以及操作 DOM 而诞生的。比如我们对某个 DOM 元素进行添加和删除操作，不能同时进行。 应该先进行添加，之后再删除。</p><p>(2) 单线程就意味着，所有任务需要排队，前一个任务结束，才会执行后一个任务。这样所导致的问题是： 如果 JS 执行的时间过长，这样就会造成页面的渲染不连贯，导致页面渲染加载阻塞的感觉。</p><h3 id="_3-2-同步和异步" tabindex="-1"><a class="header-anchor" href="#_3-2-同步和异步" aria-hidden="true">#</a> 3.2 同步和异步</h3><ul><li>为了解决这个问题，利用多核 CPU 的计算能力，HTML5 提出 Web Worker 标准，允许 JavaScript 脚本创建多个线程</li><li>于是，JS 中出现了同步和异步。</li><li>同步 <ul><li>前一个任务结束后再执行后一个任务</li></ul></li><li>异步 <ul><li>在做这件事的同时，你还可以去处理其他事情</li></ul></li></ul><h4 id="_3-2-1-同步任务" tabindex="-1"><a class="header-anchor" href="#_3-2-1-同步任务" aria-hidden="true">#</a> 3.2.1 同步任务</h4><ul><li>同步任务都在主线程上执行，形成一个 执行栈</li></ul><h4 id="_3-2-2-异步任务" tabindex="-1"><a class="header-anchor" href="#_3-2-2-异步任务" aria-hidden="true">#</a> 3.2.2 异步任务</h4><ul><li>JS中的异步是通过回调函数实现的</li><li>异步任务有以下三种类型 <ul><li>普通事件，如<code>click</code>,<code>resize</code>等</li><li>资源加载，如<code>load</code>,<code>error</code>等</li><li>定时器，包括<code>setInterval</code>,<code>setTimeout</code>等</li></ul></li><li>异步任务相关回调函数添加到任务队列中</li></ul><p><img src="/notes/image/执行栈和任务队列.png" alt="执行栈和任务队列"></p><ol><li>先执行执行栈中的同步任务</li><li>异步任务(回调函数)放入任务队列中</li><li>一旦执行栈中的所有同步任务执行完毕，系统就会按次序读取任务队列中的异步任务，于是被读取的异步任务结束等待状态，进入执行栈，开始执行</li></ol><p><img src="/notes/image/执行栈和任务队列1.png" alt="执行栈和任务队列1"></p><p><img src="/notes/image/执行栈和任务队列2.png" alt="执行栈和任务队列2"></p><p>同步任务放在执行栈中执行，异步任务由异步进程处理放到任务队列中，执行栈中的任务执行完毕会去任务队列中查看是否有异步任务执行，由于主线程不断的重复获得任务、执行任务、再获取任务、再执行，所以这种机制被称为事件循环（ event loop）。</p><h2 id="四-location对象" tabindex="-1"><a class="header-anchor" href="#四-location对象" aria-hidden="true">#</a> 四.location对象</h2><h3 id="_4-1-location对象属性" tabindex="-1"><a class="header-anchor" href="#_4-1-location对象属性" aria-hidden="true">#</a> 4.1 location对象属性</h3><table><thead><tr><th style="text-align:center;"><strong>location对象属性</strong></th><th style="text-align:center;"><strong>返回值</strong></th></tr></thead><tbody><tr><td style="text-align:center;">location.href</td><td style="text-align:center;">获取或者设置整个URL</td></tr><tr><td style="text-align:center;">location.host</td><td style="text-align:center;">返回主机（域名）www.baidu.com</td></tr><tr><td style="text-align:center;">location.port</td><td style="text-align:center;">返回端口号，如果未写返回空字符串</td></tr><tr><td style="text-align:center;">location.pathname</td><td style="text-align:center;">返回路径</td></tr><tr><td style="text-align:center;">location.search</td><td style="text-align:center;">返回参数</td></tr><tr><td style="text-align:center;">location.hash</td><td style="text-align:center;">返回片段 #后面内容常见于链接 锚点</td></tr></tbody></table><p>重点记住： <code>href</code>和<code>search</code></p><h3 id="_4-2-location对象方法" tabindex="-1"><a class="header-anchor" href="#_4-2-location对象方法" aria-hidden="true">#</a> 4.2 location对象方法</h3><table><thead><tr><th style="text-align:center;"><strong>location对象方法</strong></th><th style="text-align:center;"><strong>返回值</strong></th></tr></thead><tbody><tr><td style="text-align:center;">location.assign()</td><td style="text-align:center;">跟href一样，可以跳转页面（也称为重定向页面）</td></tr><tr><td style="text-align:center;">location.replace()</td><td style="text-align:center;">替换当前页面，因为不记录历史，所以不能后退页面</td></tr><tr><td style="text-align:center;">location.reload()</td><td style="text-align:center;">重新加载页面，相当于刷新按钮或者 f5 ，如果参数为true 强制刷新 ctrl+f5</td></tr></tbody></table><h3 id="_4-3-获取url参数" tabindex="-1"><a class="header-anchor" href="#_4-3-获取url参数" aria-hidden="true">#</a> 4.3 获取URL参数</h3><p>我们简单写一个登录框，点击登录跳转到 index.html</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>index.html<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        用户名： <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>uname<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>登录<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>接下来我们写 index.html</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>location<span class="token punctuation">.</span>search<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ?uname=andy</span>
        <span class="token comment">// 1.先去掉？  substr(&#39;起始的位置&#39;，截取几个字符);</span>
        <span class="token keyword">var</span> params <span class="token operator">=</span> location<span class="token punctuation">.</span>search<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// uname=andy</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 2. 利用=把字符串分割为数组 split(&#39;=&#39;);</span>
        <span class="token keyword">var</span> arr <span class="token operator">=</span> params<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&#39;=&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;uname&quot;, &quot;ANDY&quot;]</span>
        <span class="token keyword">var</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#39;div&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 3.把数据写入div中</span>
        div<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&#39;欢迎您&#39;</span><span class="token punctuation">;</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>这样我们就能获取到路径上的URL参数</p><h2 id="五-navigator对象" tabindex="-1"><a class="header-anchor" href="#五-navigator对象" aria-hidden="true">#</a> 五.navigator对象</h2><ul><li>navigator 对象包含有关浏览器的信息，它有很多属性</li><li>我们常用的是<code>userAgent</code>,该属性可以返回由客户机发送服务器的<code>user-agent</code>头部的值</li></ul><p>下面前端代码可以判断用户是用哪个终端打开页面的，如果是用 PC 打开的，我们就跳转到 PC 端的页面，如果是用手机打开的，就跳转到手机端页面</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>if((navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i))) {
    window.location.href = &quot;&quot;;     //手机
 } else {
    window.location.href = &quot;&quot;;     //电脑
 }
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="六-history对象" tabindex="-1"><a class="header-anchor" href="#六-history对象" aria-hidden="true">#</a> 六.history对象</h2><ul><li>window 对象给我们提供了一个 history 对象，与浏览器历史记录进行交互</li><li>该对象包含用户（在浏览器窗口中）访问过的 URL。</li></ul><table><thead><tr><th style="text-align:center;"><strong>history对象方法</strong></th><th style="text-align:center;"><strong>作用</strong></th></tr></thead><tbody><tr><td style="text-align:center;">back()</td><td style="text-align:center;">可以后退功能</td></tr><tr><td style="text-align:center;">forward()</td><td style="text-align:center;">前进功能</td></tr><tr><td style="text-align:center;">go(参数)</td><td style="text-align:center;">前进后退功能，参数如果是 1 前进1个页面 如果是 -1 后退1个页面</td></tr></tbody></table><!--]--></div><footer class="page-meta"><!----><!----><!----></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/notes/jsNote/3.%E9%AB%98%E7%BA%A7%E4%BA%8B%E4%BB%B6.html" class="" aria-label="高级事件"><!--[--><!--]--> 高级事件 <!--[--><!--]--></a></span><span class="next"><a href="/notes/jsNote/5.JS%E8%BF%9B%E9%98%B6-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1.html" class="" aria-label="JS高级"><!--[--><!--]--> JS高级 <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/notes/assets/app.c1bcb30e.js" defer></script>
  </body>
</html>
